{"version":3,"sources":["../../src/server/plugins.js"],"names":["errorConfig","templateName","viewsConfig","engines","hbs","relativeTo","join","__dirname","path","layoutPath","layout","partialsPath","isCached","process","env","NODE_ENV","daysInMs","n","authConfig","password","COOKIE_SECRET","cookie","isSecure","ttl","keepAlive","redirectTo","register","options"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,cAAc;AAClBC,gBAAc;AADI,CAApB;;AAIO,IAAMC,oCAAc;AACzBC,WAAS,EAAEC,yBAAF,EADgB;AAEzBC,cAAY,eAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,IAA3B,CAFa;AAGzBC,QAAM,OAHmB;AAIzBC,cAAY,eAAKH,IAAL,CAAU,OAAV,EAAmB,QAAnB,CAJa;AAKzBI,UAAQ,SALiB;AAMzBC,gBAAc,eAAKL,IAAL,CAAU,OAAV,EAAmB,UAAnB,CANW;AAOzBM,YAAUC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB;AAPV,CAApB;;AAWP,IAAMC,WAAW,SAAXA,QAAW;AAAA,SAAKC,IAAI,EAAJ,GAAS,EAAT,GAAc,EAAd,GAAmB,IAAxB;AAAA,CAAjB;;AAEO,IAAMC,kCAAa;AACxBC,YAAUN,QAAQC,GAAR,CAAYM,aADE;AAExBC,UAAQ,gCAFgB;AAGxBC,YAAUT,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAHX;AAIxBQ,OAAKP,SAAS,CAAT,CAJmB;AAKxBQ,aAAW,IALa;AAMxBC,cAAY;AANY,CAAnB;;kBASQ,oCAGb;AACEC,+BADF;AAEEC,WAAS3B;AAFX,CAHa,2B","file":"plugins.js","sourcesContent":["import inert from 'inert';\nimport Path from 'path';\nimport cookieAuth from 'hapi-auth-cookie';\nimport hapiError from 'hapi-error';\nimport vision from 'vision';\nimport Handlebars from 'handlebars';\n\nconst errorConfig = {\n  templateName: 'errors.hbs',\n};\n\nexport const viewsConfig = {\n  engines: { hbs: Handlebars },\n  relativeTo: Path.join(__dirname, '..', '..'),\n  path: 'views',\n  layoutPath: Path.join('views', 'layout'),\n  layout: 'default',\n  partialsPath: Path.join('views', 'partials'),\n  isCached: process.env.NODE_ENV !== 'development',\n  // Partials always cached: https://github.com/hapijs/hapi/issues/1564\n};\n\nconst daysInMs = n => n * 24 * 60 * 60 * 1000;\n\nexport const authConfig = {\n  password: process.env.COOKIE_SECRET,\n  cookie: 'wales-coop-targeted-engagement',\n  isSecure: process.env.NODE_ENV !== 'development',\n  ttl: daysInMs(3),\n  keepAlive: true,\n  redirectTo: '/login',\n};\n\nexport default [\n  inert,\n  vision,\n  {\n    register: hapiError,\n    options: errorConfig,\n  },\n  cookieAuth,\n];\n"]}