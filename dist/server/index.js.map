{"version":3,"sources":["../../src/server/index.js"],"names":["plug","server","Server","connections","routes","files","relativeTo","join","__dirname","connection","port","process","env","PORT","register","err","auth","strategy","authConfig","views","viewsConfig","route","start","console","log","info","uri","NODE_ENV"],"mappings":";;AAAA;;;;AACA;;;;AACA;;IAAqBA,I;;AACrB;;;;AACA;;;;;;;;AAEA,IAAMC,SAAS,IAAI,eAAKC,MAAT,CAAgB;AAC7BC,eAAa;AACXC,YAAQ;AACNC,aAAO;AACLC,oBAAY,eAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,QAAjC;AADP;AADD;AADG;AADgB,CAAhB,CAAf;;AAUAP,OAAOQ,UAAP,CAAkB;AAChBC,QAAMC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB;AADV,CAAlB;;AAIAZ,OAAOa,QAAP,CAlBqBd,IAkBrB,UAAyB,UAACe,GAAD,EAAS;AAChC,MAAIA,GAAJ,EAAS,MAAMA,GAAN;AACTd,SAAOe,IAAP,CAAYC,QAAZ,CAAqB,MAArB,EAA6B,QAA7B,EAAuC,UAAvC,EAAmDjB,KAAKkB,UAAxD;AACAjB,SAAOkB,KAAP,CAAanB,KAAKoB,WAAlB;AACAnB,SAAOoB,KAAP;AACApB,SAAOqB,KAAP,CAAa;AAAA;AACX;AACAC,cAAQC,GAAR,iCAA0CvB,OAAOwB,IAAP,CAAYC,GAAtD;AAFW;AAAA,GAAb;AAGA,MAAIf,QAAQC,GAAR,CAAYe,QAAZ,KAAyB,aAA7B,EAA4C,sBAAO1B,MAAP;AAC7C,CATD","file":"index.js","sourcesContent":["import hapi from 'hapi';\nimport Path from 'path';\nimport plugins, * as plug from './plugins';\nimport routes from './routes/';\nimport logger from './logger';\n\nconst server = new hapi.Server({\n  connections: {\n    routes: {\n      files: {\n        relativeTo: Path.join(__dirname, '..', '..', 'public'),\n      },\n    },\n  },\n});\n\nserver.connection({\n  port: process.env.PORT || 4000,\n});\n\nserver.register(plugins, (err) => {\n  if (err) throw err;\n  server.auth.strategy('base', 'cookie', 'required', plug.authConfig);\n  server.views(plug.viewsConfig);\n  server.route(routes);\n  server.start(() =>\n    // eslint-disable-next-line no-console\n    console.log(`Backend server started on: ${server.info.uri}`));\n  if (process.env.NODE_ENV === 'development') logger(server);\n});\n\n"]}